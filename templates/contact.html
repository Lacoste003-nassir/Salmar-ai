<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>Salmar — Contact</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-start: #1c0448;
      --bg-end: #3a0ea6;
      --bg-accent1: rgba(167,139,250,.25);
      --bg-accent2: rgba(110, 79, 255, .25);

      --card-bg: rgba(255, 255, 255, 0.10);
      --card-stroke: rgba(255, 255, 255, 0.22);
      --card-shadow: 0 20px 40px rgba(0,0,0,.35), inset 0 0 0 1px var(--card-stroke);
      --text: #efe9ff;
      --muted: #d6ccff;
      --subtle: #b9a7ff;
      --line: rgba(255,255,255,.18);

      --primary: #9d7aff;
      --primary-strong: #a67cff;
      --primary-2: #6f48ff;
      --lilac: #c7b7ff;
      --neon-lilac: #d6c6ff;
      --success: #48e1a8;
      --error: #ff6b8a;
      --warning: #ffd166;
      --focus: #a78bfa;

      --glass-blur: saturate(125%) blur(16px);
      --radius: 16px;

      --shadow-soft: 8px 8px 18px rgba(10, 2, 32, .65), -6px -6px 16px rgba(255,255,255,.04);
      --shadow-inner: inset 6px 6px 12px rgba(0,0,0,.25), inset -6px -6px 14px rgba(255,255,255,.05);

      --ring: 0 0 0 3px rgba(167,139,250,.45);
    }
    /* Light theme overrides */
    [data-theme="light"] {
      --bg-start: #faf5ff;
      --bg-end: #e7dbff;
      --bg-accent1: rgba(157,122,255,.18);
      --bg-accent2: rgba(88, 54, 255, .14);

      --card-bg: rgba(255,255,255,.55);
      --card-stroke: rgba(90, 59, 255, .15);
      --card-shadow: 0 12px 28px rgba(54, 40, 120, .16), inset 0 0 0 1px var(--card-stroke);

      --text: #1a1038;
      --muted: #3a2e73;
      --subtle: #4f3fa1;
      --line: rgba(28,19,64,.12);

      --primary: #6b46ff;
      --primary-strong: #5c3aff;
      --primary-2: #7c56ff;
      --lilac: #6b46ff;
      --neon-lilac: #5c3aff;
      --success: #0ea371;
      --error: #e21a50;
      --warning: #b17b09;
      --focus: #6b46ff;

      --glass-blur: saturate(115%) blur(12px);
      --shadow-soft: 6px 6px 16px rgba(55,20,120,.12), -4px -4px 12px rgba(255,255,255,.5);
      --shadow-inner: inset 6px 6px 10px rgba(120,90,255,.08), inset -6px -6px 10px rgba(255,255,255,.5);
      --ring: 0 0 0 3px rgba(107,70,255,.35);
    }

    html, body {
      height: 100%;
    }
    body {
      margin: 0;
      font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      color: var(--text);
      background: radial-gradient(1200px 800px at 15% -10%, var(--bg-accent1), transparent 60%),
                  radial-gradient(1000px 800px at 110% 10%, var(--bg-accent2), transparent 50%),
                  linear-gradient(155deg, var(--bg-start), var(--bg-end));
      overflow-x: hidden;
    }

    /* Subtle animated wave background */
    .bg-waves {
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: -2;
      pointer-events: none;
      opacity: .65;
    }
    .bg-waves svg {
      position: absolute;
      left: 0; right: 0; width: 200%;
      will-change: transform;
      filter: drop-shadow(0 15px 30px rgba(0,0,0,.25));
    }
    .wave-1 { bottom: -8rem; animation: waveMove 18s linear infinite; opacity: .25; }
    .wave-2 { bottom: -5rem; animation: waveMove2 26s linear infinite; opacity: .28; }
    .wave-3 { bottom: -2rem; animation: waveMove3 34s linear infinite; opacity: .20; }
    @keyframes waveMove   { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    @keyframes waveMove2  { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    @keyframes waveMove3  { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

    /* Noise overlay (procedural via canvas, filled in JS) */
    .noise-overlay {
      position: fixed;
      inset: 0;
      pointer-events: none;
      mix-blend-mode: soft-light;
      opacity: .045; /* super subtle */
      z-index: -1;
      background-size: cover;
      background-repeat: repeat;
    }

    /* Layout */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px;
    }
    header.site-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 12px;
    }

    /* Holographic orb */
    .orb-wrap {
      width: 100%;
      display: grid;
      place-items: center;
      margin: 24px 0 10px;
      position: relative;
    }
    .orb {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      position: relative;
      background:
        radial-gradient(60% 60% at 35% 30%, rgba(255,255,255,.85), rgba(255,255,255,.05) 45%, transparent 60%),
        conic-gradient(from 0deg, #bd93ff, #6b46ff, #00e5ff, #a1ffce, #ffd1f9, #bd93ff);
      box-shadow:
        0 0 35px rgba(167,139,250,.5),
        inset -12px -16px 30px rgba(20,10,60,.8),
        inset 10px 14px 28px rgba(255,255,255,.18);
      animation: orbRotate 12s linear infinite, float 6s ease-in-out infinite;
      overflow: visible;
      isolation: isolate;
    }
    .orb::before { /* soft halo */
      content: "";
      position: absolute;
      inset: -20%;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(167,139,250,.35), transparent 60%);
      filter: blur(16px);
      z-index: -1;
    }
    .orb::after { /* listening rings */
      content: "";
      position: absolute;
      inset: -6px;
      border-radius: 50%;
      border: 2px dashed rgba(167,139,250,.55);
      animation: spinRings 14s linear infinite;
      box-shadow: 0 0 50px rgba(167,139,250,.35), inset 0 0 32px rgba(167,139,250,.25);
    }
    .orb .pulse {
      position: absolute;
      inset: -2px;
      border-radius: 50%;
      box-shadow: 0 0 0 0 rgba(167,139,250,.55);
      animation: pulse 3s ease-out infinite;
    }
    @keyframes orbRotate { to { filter: hue-rotate(360deg); } }
    @keyframes float { 0%,100%{ transform: translateY(0); } 50%{ transform: translateY(-10px);} }
    @keyframes spinRings { to { transform: rotate(360deg); } }
    @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(167,139,250,.55); } 70% { box-shadow: 0 0 0 24px rgba(167,139,250,0); } 100% { box-shadow: 0 0 0 0 rgba(167,139,250,0); } }

    /* Top meta */
    .top-meta {
      text-align: center;
      margin-bottom: 12px;
    }
    .title {
      font-size: clamp(28px, 3.4vw, 46px);
      letter-spacing: .3px;
      font-weight: 800;
      text-shadow: 0 10px 28px rgba(0,0,0,.35);
    }
    .subtext {
      margin-top: 6px;
      color: var(--muted);
      font-size: clamp(14px, 1.6vw, 18px);
      font-weight: 400;
    }
    .resp-time {
      margin-top: 10px;
      color: var(--neon-lilac);
      font-size: 13px;
      letter-spacing: .3px;
      text-transform: uppercase;
      font-weight: 600;
      opacity: .95;
      filter: drop-shadow(0 0 6px rgba(198,168,255,.55));
    }

    /* Split layout */
    .split {
      display: grid;
      grid-template-columns: 1.1fr 1.6fr;
      gap: 24px;
      margin-top: 24px;
    }
    @media (max-width: 980px) {
      .split { grid-template-columns: 1fr; }
    }

    /* Cards */
    .card {
      background: var(--card-bg);
      border: 1px solid var(--card-stroke);
      border-radius: var(--radius);
      box-shadow: var(--card-shadow);
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      position: relative;
    }
    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: radial-gradient(650px 280px at -10% -10%, rgba(255,255,255,.18), transparent 60%),
                  radial-gradient(600px 280px at 120% -10%, rgba(167,139,250,.12), transparent 60%);
      pointer-events: none;
      mix-blend-mode: screen;
    }
    .card.pad { padding: 22px; }

    /* Contact options */
    .contact-list { display: grid; gap: 12px; }
    .contact-item {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 14px;
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid var(--line);
      box-shadow: var(--shadow-soft);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
    }
    .contact-item:focus-within, .contact-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 30px rgba(88, 54, 255, .18), var(--shadow-soft);
      background: linear-gradient(180deg, rgba(167,139,250,.10), rgba(255,255,255,.03));
      outline: none;
    }
    .contact-icon {
      width: 42px; height: 42px; border-radius: 12px;
      display: grid; place-items: center;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(255,255,255,.05)),
                  linear-gradient(135deg, rgba(167,139,250,.55), rgba(88,54,255,.55));
      box-shadow: inset -6px -8px 20px rgba(10,0,60,.35), inset 4px 6px 12px rgba(255,255,255,.25),
                  0 6px 18px rgba(88,54,255,.35);
      color: #fff;
    }
    .contact-text small {
      display: block;
      color: var(--subtle);
      font-size: 12px;
      margin-bottom: 2px;
    }
    .contact-text a {
      color: var(--text);
      text-decoration: none;
      font-weight: 600;
    }
    .contact-text a:focus-visible {
      outline: none; box-shadow: var(--ring);
      border-radius: 6px;
    }

    /* Form */
    form.contact-form {
      display: grid; gap: 14px;
    }
    .field {
      display: grid; gap: 8px;
    }
    .label {
      font-size: 13px;
      color: var(--muted);
      font-weight: 600;
      letter-spacing: .2px;
    }
    .control {
      position: relative;
    }
    .input, .select, .textarea {
      width: 100%;
      color: var(--text);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 12px 14px;
      outline: none;
      box-shadow: var(--shadow-inner);
      transition: border-color .2s, box-shadow .2s, background .2s;
    }
    .input::placeholder, .textarea::placeholder {
      color: color-mix(in srgb, var(--muted) 68%, transparent);
    }
    .input:focus, .select:focus, .textarea:focus, .dropzone:focus {
      border-color: var(--focus);
      box-shadow: var(--ring), var(--shadow-inner);
    }

    .row-2 {
      display: grid; gap: 14px; grid-template-columns: 1fr 1fr;
    }
    @media (max-width: 640px) { .row-2 { grid-template-columns: 1fr; } }
    .textarea {
      min-height: 140px; resize: vertical;
    }

    .hint {
      font-size: 12px; color: var(--muted);
    }
    .error {
      font-size: 12px; color: var(--error);
      display: none;
    }
    .invalid .error { display: block; }
    .invalid .input, .invalid .textarea, .invalid .select { border-color: var(--error); }

    /* Suggestions */
    .suggestions {
      margin-top: 6px;
      display: flex; flex-wrap: wrap; gap: 8px;
    }
    .chip {
      --glow: rgba(167,139,250,.35);
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      font-size: 12px; font-weight: 600;
      color: var(--text);
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      box-shadow: 0 0 0 0 var(--glow);
      transition: transform .15s, box-shadow .3s, background .2s;
      cursor: pointer;
    }
    .chip:hover { transform: translateY(-1px); box-shadow: 0 8px 20px var(--glow); }
    .chip svg { width: 14px; height: 14px; }

    /* Dropzone */
    .dropzone {
      border: 1.5px dashed color-mix(in srgb, var(--focus) 55%, transparent);
      background: linear-gradient(180deg, rgba(167,139,250,.1), rgba(255,255,255,.03));
      border-radius: 14px;
      padding: 16px;
      display: grid; gap: 8px;
      place-content: center;
      text-align: center;
      transition: border-color .2s, background .2s, transform .2s ease;
      min-height: 110px;
    }
    .dropzone.dragover {
      transform: translateY(-2px) scale(1.01);
      background: linear-gradient(180deg, rgba(167,139,250,.18), rgba(255,255,255,.06));
      border-color: var(--primary-strong);
      box-shadow: 0 14px 30px rgba(88,54,255,.25);
    }
    .file-list {
      display: grid; gap: 6px; margin-top: 6px; text-align: left;
      font-size: 12px; color: var(--muted);
    }

    /* Submit button with ripple */
    .actions {
      display: flex; align-items: center; gap: 12px; justify-content: flex-end;
      margin-top: 8px;
    }
    .btn {
      position: relative;
      border: none;
      color: white;
      background: linear-gradient(135deg, var(--primary), var(--primary-2));
      border-radius: 12px;
      padding: 12px 18px;
      font-weight: 700;
      letter-spacing: .2px;
      cursor: pointer;
      overflow: hidden;
      box-shadow: 0 10px 26px rgba(88,54,255,.35), inset 0 0 0 1px rgba(255,255,255,.2);
      transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn:hover { transform: translateY(-1px); filter: saturate(115%); }
    .btn:active { transform: translateY(0); }
    .btn:focus-visible { outline: none; box-shadow: var(--ring), 0 10px 26px rgba(88,54,255,.35); }
    .btn .ripple {
      position: absolute;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      background: radial-gradient(circle, rgba(255,255,255,.8) 0%, rgba(255,255,255,.25) 40%, rgba(255,255,255,0) 70%);
      width: 12px; height: 12px;
      animation: ripple .65s ease-out forwards;
      pointer-events: none;
      mix-blend-mode: screen;
    }
    @keyframes ripple {
      from { opacity: 0.7; }
      to { width: 420px; height: 420px; opacity: 0; }
    }

    .trust {
      margin-top: 8px;
      font-size: 12.5px;
      color: var(--muted);
      display: flex; align-items: center; gap: 8px;
    }

    /* Theme toggle */
    .theme-toggle {
      display: inline-flex; align-items: center; gap: 10px;
      padding: 8px 12px; border-radius: 999px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      box-shadow: var(--shadow-soft);
      cursor: pointer;
      user-select: none;
    }
    .theme-toggle .dot {
      width: 22px; height: 22px;
      border-radius: 50%;
      display: grid; place-items: center;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(255,255,255,.05)),
                  linear-gradient(135deg, rgba(167,139,250,.55), rgba(88,54,255,.55));
      box-shadow: inset -6px -8px 20px rgba(10,0,60,.35), inset 4px 6px 12px rgba(255,255,255,.25),
                  0 6px 16px rgba(88,54,255,.35);
      color: #fff;
    }
    .theme-toggle span { font-size: 12px; color: var(--muted); font-weight: 700; }

    /* Footer */
    footer.site-footer {
      margin: 26px auto 40px;
      max-width: 1200px;
      padding: 0 24px;
    }
    .footer-card {
      display: grid; gap: 14px;
      grid-template-columns: 1.2fr 1fr 1fr;
    }
    @media (max-width: 900px) {
      .footer-card { grid-template-columns: 1fr; }
    }
    .footer-links {
      display: flex; flex-wrap: wrap; gap: 10px;
    }
    .footer-links a {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 10px 12px; border-radius: 12px; font-weight: 600;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      color: var(--text); text-decoration: none;
      box-shadow: var(--shadow-soft);
      transition: transform .15s, box-shadow .2s, background .2s;
    }
    .footer-links a:hover { transform: translateY(-1px); box-shadow: 0 12px 24px rgba(88,54,255,.2); }
    .socials {
      display: flex; gap: 10px; align-items: center; flex-wrap: wrap;
    }
    .socials a {
      width: 40px; height: 40px; display: grid; place-items: center;
      border-radius: 12px; border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      color: var(--text); text-decoration: none;
      box-shadow: var(--shadow-soft);
      transition: transform .15s, filter .2s, box-shadow .2s;
    }
    .socials a:hover { transform: translateY(-2px) scale(1.03); filter: drop-shadow(0 8px 18px rgba(88,54,255,.35)); }
    .tagline {
      color: var(--neon-lilac);
      font-weight: 800;
      letter-spacing: .3px;
      text-align: right;
      text-shadow: 0 0 18px rgba(167,139,250,.35);
      align-self: center;
    }
    @media (max-width: 900px) { .tagline { text-align: left; } }

    /* Live chat */
    .chat-fab {
      position: fixed; right: 20px; bottom: 20px;
      width: 58px; height: 58px; border-radius: 18px;
      display: grid; place-items: center;
      background: linear-gradient(135deg, var(--primary), var(--primary-2));
      box-shadow: 0 10px 26px rgba(88,54,255,.35), inset 0 0 0 1px rgba(255,255,255,.25);
      color: #fff; cursor: pointer; z-index: 40;
      transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
      border: none;
    }
    .chat-fab:hover { transform: translateY(-2px); filter: saturate(115%); }
    .chat-panel {
      position: fixed; right: 20px; bottom: 90px; width: min(340px, calc(100vw - 40px));
      background: var(--card-bg);
      border: 1px solid var(--card-stroke);
      border-radius: 16px; box-shadow: var(--card-shadow);
      backdrop-filter: var(--glass-blur); -webkit-backdrop-filter: var(--glass-blur);
      display: grid; grid-template-rows: auto 1fr auto; overflow: hidden;
      transform-origin: bottom right; transform: scale(.98) translateY(8px);
      opacity: 0; pointer-events: none; transition: transform .2s ease, opacity .2s ease;
      z-index: 40;
    }
    .chat-panel.open { transform: scale(1) translateY(0); opacity: 1; pointer-events: auto; }
    .chat-head {
      padding: 12px 14px; display: flex; align-items: center; gap: 10px;
      border-bottom: 1px solid var(--line);
    }
    .status-dot {
      width: 10px; height: 10px; border-radius: 50%; background: #41f2a1;
      box-shadow: 0 0 10px rgba(65,242,161,.8);
    }
    .chat-body {
      padding: 12px; display: grid; align-content: end; gap: 10px; max-height: 380px; overflow: auto;
      scroll-behavior: smooth;
    }
    .msg {
      display: inline-flex; gap: 8px; align-items: flex-start; max-width: 85%;
      border: 1px solid var(--line);
      padding: 10px 12px; border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      box-shadow: var(--shadow-soft);
    }
    .msg.bot { border-color: color-mix(in srgb, var(--focus) 40%, var(--line)); box-shadow: 0 10px 24px rgba(88,54,255,.2); }
    .msg.you { margin-left: auto; }
    .chat-input {
      display: flex; gap: 8px; padding: 10px; border-top: 1px solid var(--line);
    }
    .chat-input input {
      flex: 1; border: 1px solid var(--line); border-radius: 12px;
      padding: 10px 12px; background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      color: var(--text); outline: none; box-shadow: var(--shadow-inner);
    }
    .chat-input button {
      border: none; border-radius: 12px; padding: 10px 14px; color: white;
      background: linear-gradient(135deg, var(--primary), var(--primary-2));
      box-shadow: 0 10px 26px rgba(88,54,255,.35), inset 0 0 0 1px rgba(255,255,255,.2);
      cursor: pointer;
    }

    /* Toast */
    .toast {
      position: fixed; left: 50%; transform: translateX(-50%); bottom: 18px; z-index: 50;
      background: linear-gradient(135deg, rgba(72,225,168,.12), rgba(72,225,168,.06));
      color: var(--text);
      border: 1px solid rgba(72,225,168,.45);
      border-radius: 12px; padding: 10px 14px;
      box-shadow: 0 12px 24px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.2);
      opacity: 0; pointer-events: none; transition: opacity .25s ease, transform .25s ease;
    }
    .toast.show { opacity: 1; pointer-events: auto; transform: translateX(-50%) translateY(-8px); }

    /* Utility */
    .sr-only { position: absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0; }
  </style>
</head>
<body>
  <!-- Animated Waves Background -->
  <div class="bg-waves" aria-hidden="true">
    <svg class="wave-1" viewBox="0 0 1200 200" preserveAspectRatio="none">
      <path d="M0,100 C200,150 400,50 600,100 C800,150 1000,50 1200,100 L1200,200 L0,200 Z" fill="url(#g1)"></path>
      <defs>
        <linearGradient id="g1" x1="0" x2="1" y1="0" y2="0">
          <stop offset="0%" stop-color="rgba(167,139,250,.22)"></stop>
          <stop offset="100%" stop-color="rgba(88,54,255,.18)"></stop>
        </linearGradient>
      </defs>
    </svg>
    <svg class="wave-2" viewBox="0 0 1200 200" preserveAspectRatio="none">
      <path d="M0,120 C250,170 450,70 650,110 C850,150 1000,80 1200,120 L1200,200 L0,200 Z" fill="url(#g2)"></path>
      <defs>
        <linearGradient id="g2" x1="0" x2="1" y1="0" y2="0">
          <stop offset="0%" stop-color="rgba(157,122,255,.22)"></stop>
          <stop offset="100%" stop-color="rgba(0,229,255,.16)"></stop>
        </linearGradient>
      </defs>
    </svg>
    <svg class="wave-3" viewBox="0 0 1200 200" preserveAspectRatio="none">
      <path d="M0,140 C220,200 420,100 620,140 C820,180 1000,120 1200,140 L1200,200 L0,200 Z" fill="url(#g3)"></path>
      <defs>
        <linearGradient id="g3" x1="0" x2="1" y1="0" y2="0">
          <stop offset="0%" stop-color="rgba(161,255,206,.15)"></stop>
          <stop offset="100%" stop-color="rgba(189,147,255,.15)"></stop>
        </linearGradient>
      </defs>
    </svg>
  </div>

  <!-- Noise Overlay -->
  <div class="noise-overlay" id="noiseOverlay" aria-hidden="true"></div>

  <div class="container">
    <header class="site-header" aria-label="Site header">
      <div aria-hidden="true"></div>
      <button class="theme-toggle" id="themeToggle" type="button" aria-pressed="true" aria-label="Toggle theme">
        <div class="dot" aria-hidden="true">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" role="img" aria-hidden="true">
            <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 1 0 9.79 9.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </div>
        <span>Dark Mode</span>
      </button>
    </header>

    <div class="orb-wrap" aria-label="Salmar listening orb">
      <div class="orb" role="img" aria-label="Glowing holographic orb">
        <span class="pulse" aria-hidden="true"></span>
      </div>
    </div>

    <section class="top-meta">
      <h1 class="title">Get in Touch with Salmar</h1>
      <p class="subtext">We’re here to help, listen, and build the future with you.</p>
      <div class="resp-time" aria-live="polite">Average response time: under 24 hours.</div>
    </section>

    <main class="split" id="mainContent">
      <!-- Left: Contact Options -->
      <section class="card pad" aria-labelledby="contactOptionsTitle">
        <h2 id="contactOptionsTitle" class="sr-only">Contact Options</h2>
        <div class="contact-list">
          <div class="contact-item" tabindex="0">
            <div class="contact-icon" aria-hidden="true">
              <!-- Envelope -->
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z" stroke="white" stroke-width="1.7"/>
                <path d="m22 6-10 7L2 6" stroke="white" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="contact-text">
              <small>General Inquiries</small>
              <a href="mailto:hello@salmar.ai" aria-label="Email General Inquiries at hello@salmar.ai">hello@salmar.ai</a>
            </div>
          </div>

          <div class="contact-item" tabindex="0">
            <div class="contact-icon" aria-hidden="true">
              <!-- Gear -->
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" stroke="white" stroke-width="1.7"/>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 7.03 2.4l.06.06a1.65 1.65 0 0 0 1.82.33h.01A1.65 1.65 0 0 0 10.42 1H10.5a2 2 0 1 1 4 0v.09c0 .64.38 1.22.97 1.47.6.25 1.29.13 1.77-.31l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06c-.44.48-.56 1.17-.31 1.77.25.59.83.97 1.47.97H21a2 2 0 1 1 0 4h-.09c-.64 0-1.22.38-1.47.97z" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="contact-text">
              <small>Support & Technical Help</small>
              <a href="mailto:support@salmar.ai" aria-label="Email Support at support@salmar.ai">support@salmar.ai</a>
            </div>
          </div>

          <div class="contact-item" tabindex="0">
            <div class="contact-icon" aria-hidden="true">
              <!-- Handshake -->
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M4 12l4-4 4 4 4-4 4 4" stroke="white" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 12h20v4a2 2 0 0 1-2 2h-6l-2 2-2-2H4a2 2 0 0 1-2-2v-4z" stroke="white" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="contact-text">
              <small>Partnerships & Business</small>
              <a href="mailto:partnerships@salmar.ai" aria-label="Email Partnerships at partnerships@salmar.ai">partnerships@salmar.ai</a>
            </div>
          </div>

          <div class="contact-item" tabindex="0">
            <div class="contact-icon" aria-hidden="true">
              <!-- Megaphone -->
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M3 11v2l10 4V7L3 11z" stroke="white" stroke-width="1.7" stroke-linejoin="round"/>
                <path d="M13 8c4-3 6-3 8-3v14c-2 0-4 0-8-3" stroke="white" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M7 13l-1 5" stroke="white" stroke-width="1.7" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="contact-text">
              <small>Press & Media</small>
              <a href="mailto:press@salmar.ai" aria-label="Email Press at press@salmar.ai">press@salmar.ai</a>
            </div>
          </div>
        </div>
      </section>

      <!-- Right: Form -->
      <section class="card pad" aria-labelledby="contactFormTitle">
        <h2 id="contactFormTitle" style="margin:0 0 8px;font-size:18px;letter-spacing:.2px;">Contact Form</h2>
        <form class="contact-form" id="contactForm" novalidate>
          <div class="row-2">
            <div class="field" id="fieldName">
              <label for="name" class="label">Name</label>
              <div class="control">
                <input id="name" name="name" class="input" type="text" placeholder="Enter your full name…" autocomplete="name" required aria-required="true" />
              </div>
              <div class="error" aria-live="polite">Please enter at least 2 characters.</div>
            </div>

            <div class="field" id="fieldEmail">
              <label for="email" class="label">Email Address</label>
              <div class="control">
                <input id="email" name="email" class="input" type="email" placeholder="Where can we reach you?" autocomplete="email" required aria-required="true" />
              </div>
              <div class="error" aria-live="polite">Please enter a valid email address.</div>
            </div>
          </div>

          <div class="row-2">
            <div class="field" id="fieldCategory">
              <label for="category" class="label">Subject Category</label>
              <div class="control">
                <select id="category" name="category" class="select" aria-describedby="categoryHint">
                  <option value="General">General</option>
                  <option value="Support">Support</option>
                  <option value="Business">Business</option>
                  <option value="Media">Media</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div id="categoryHint" class="hint">Choose the closest topic for faster routing.</div>
            </div>

            <div class="field" id="fieldSubject">
              <label for="subject" class="label">Subject</label>
              <div class="control">
                <input id="subject" name="subject" class="input" type="text" placeholder="Type your subject…" required aria-required="true" aria-describedby="suggestionsLive" />
              </div>
              <div class="error" aria-live="polite">Please enter a subject.</div>
              <div id="suggestions" class="suggestions" role="listbox" aria-label="Quick help suggestions"></div>
              <div id="suggestionsLive" class="sr-only" aria-live="polite"></div>
            </div>
          </div>

          <div class="field" id="fieldMessage">
            <label for="message" class="label">Message</label>
            <div class="control">
              <textarea id="message" name="message" class="textarea" placeholder="Write your message here…" required aria-required="true"></textarea>
            </div>
            <div class="error" aria-live="polite">Please provide at least 10 characters.</div>
          </div>

          <div class="field">
            <label for="fileInput" class="label">Optional Attachment</label>
            <div id="dropzone" class="dropzone" tabindex="0" role="button" aria-label="Upload attachment by browsing or dropping files">
              <div style="display:flex;flex-direction:column;align-items:center;gap:4px;">
                <svg width="26" height="26" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M12 16V4m0 0l-4 4m4-4l4 4" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"></path>
                  <rect x="3" y="14" width="18" height="6" rx="2" stroke="currentColor" stroke-width="1.7"></rect>
                </svg>
                <div style="font-weight:700">Drag & drop files here</div>
                <div class="hint">or click to browse · Max 10MB each</div>
              </div>
              <input id="fileInput" type="file" multiple class="sr-only" aria-hidden="true" />
              <div class="file-list" id="fileList" aria-live="polite"></div>
            </div>
          </div>

          <div class="actions">
            <button type="reset" class="btn" id="resetBtn" title="Clear form">
              <span>Clear</span>
            </button>
            <button type="submit" class="btn" id="submitBtn" aria-label="Send Message to Salmar">
              <span>Send Message to Salmar</span>
            </button>
          </div>

          <div class="trust">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 2l7 4v5c0 5-3 9-7 11-4-2-7-6-7-11V6l7-4z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"></path>
              <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <span>Your message is encrypted. Only our team and Salmar see it.</span>
          </div>
        </form>
      </section>
    </main>
  </div>

  <!-- Footer -->
  <footer class="site-footer" aria-labelledby="footerLabel">
    <div class="card pad footer-card">
      <div>
        <h2 id="footerLabel" style="margin:0 0 10px;font-size:16px;">Quick Links</h2>
        <nav class="footer-links" aria-label="Quick links">
          <a href="report.html" role="link" aria-label="Report an Issue">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 9v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M12 17h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/></svg>
            Report an Issue
          </a>
          <a href="securitystatus.html" role="link" aria-label="Security Status">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2l7 4v5c0 5-3 9-7 11-4-2-7-6-7-11V6l7-4z" stroke="currentColor" stroke-width="1.5"/><path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Security Status
          </a>
          <a href="helpcenter.html" role="link" aria-label="Help Center">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.6"/><path d="M9.09 9a3 3 0 1 1 5.82 1c0 2-3 2-3 4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/><circle cx="12" cy="18" r="1" fill="currentColor"/></svg>
            Help Center
          </a>
        </nav>
      </div>
      <div>
        <h3 style="margin:0 0 10px;font-size:16px;">Follow</h3>
        <div class="socials" role="list" aria-label="Social media">
          <a href="#" aria-label="Twitter">
            <!-- Twitter -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M21.5 6.5c-.7.3-1.4.5-2.1.6.8-.5 1.4-1.2 1.7-2.1-.7.5-1.6.8-2.5 1C17.8 5 16.7 4.5 15.5 4.5c-2.3 0-4.1 2.1-3.6 4.4-3.2-.2-6-1.7-7.9-4.1C3 6 3.7 8 5.3 9c-.6 0-1.2-.2-1.7-.5v.1c0 2.1 1.5 3.9 3.5 4.3-.4.1-.8.2-1.3.2-.3 0-.6 0-.9-.1.6 1.8 2.3 3.2 4.4 3.2-1.6 1.3-3.6 2.1-5.9 2.1H2c2.1 1.3 4.6 2.1 7.3 2.1 8.8 0 13.7-7.5 13.4-14.3.9-.6 1.7-1.4 2.3-2.3-.8.3-1.6.6-2.5.8z"/>
            </svg>
          </a>
          <a href="#" aria-label="LinkedIn">
            <!-- LinkedIn -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8h4V24h-4V8zm7.5 0h3.8v2.2h.1c.5-1 1.8-2.2 3.8-2.2 4.1 0 4.9 2.7 4.9 6.1V24h-4v-7.1c0-1.7 0-3.9-2.4-3.9s-2.8 1.9-2.8 3.8V24h-4V8z"/>
            </svg>
          </a>
          <a href="#" aria-label="Discord">
            <!-- Discord -->
            <svg width="20" height="20" viewBox="0 0 71 55" fill="currentColor" aria-hidden="true">
              <path d="M60.1,4.9C55.6,2.9,50.7,1.5,45.6,1c0,0-2.3,4.2-2.9,5c-4.2-0.6-8.4-0.6-12.6,0c-0.6-0.8-2.9-5-2.9-5c-5.1,0.5-10,1.9-14.5,3.9c-6.9,10-8.8,19.7-7.9,29.3c5.9,4.4,11.6,7.1,17.2,8.9c1.4-1.8,2.7-3.8,3.8-5.8c-2.1-0.8-4.1-1.7-6-2.8c0.5-0.4,1-0.9,1.5-1.3c11.6,5.4,24.1,5.4,35.6,0c0.5,0.5,1,0.9,1.5,1.3c-1.9,1.1-3.9,2-6,2.8c1.1,2,2.4,3.9,3.8,5.8c5.6-1.8,11.3-4.5,17.2-8.9C68.9,24.6,66.5,14.8,60.1,4.9zM23.9,36.4c-2.3,0-4.2-2.2-4.2-5s1.9-5,4.2-5s4.3,2.2,4.3,5S26.2,36.4,23.9,36.4z M47.1,36.4c-2.3,0-4.3-2.2-4.3-5s2-5,4.3-5s4.2,2.2,4.2,5S49.4,36.4,47.1,36.4z"/>
            </svg>
          </a>
        </div>
      </div>
      <div class="tagline">The Future is Purple. The Future is Connected.</div>
    </div>
  </footer>

  <!-- Live Chat Floating -->
  <button class="chat-fab" id="chatFab" aria-label="Talk to Salmar now">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M21 15a4 4 0 0 1-4 4H8l-5 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4v8z" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M8 10h8M8 14h5" stroke="white" stroke-width="1.8" stroke-linecap="round"/>
    </svg>
  </button>
  <aside class="chat-panel" id="chatPanel" aria-live="polite" aria-label="Live chat panel">
    <div class="chat-head">
      <span class="status-dot" aria-hidden="true"></span>
      <div>
        <div style="font-weight:800;">Talk to Salmar now</div>
        <div class="hint">Real-time assistant · Online</div>
      </div>
      <button type="button" id="chatClose" title="Close chat" style="margin-left:auto;background:transparent;border:none;color:var(--text);cursor:pointer;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"></path>
        </svg>
      </button>
    </div>
    <div class="chat-body" id="chatBody" role="log" aria-live="polite">
      <div class="msg bot">Hi! I’m Salmar. Ask me anything or say “status”, “docs”, “pricing”, or “support”.</div>
    </div>
    <div class="chat-input">
      <input id="chatInput" type="text" placeholder="Type a message and press Enter…" aria-label="Chat message input">
      <button id="chatSend" type="button" aria-label="Send message">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M22 2L11 13" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M22 2L15 22l-4-9-9-4L22 2z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </aside>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite">Message sent successfully. We’ll be in touch!</div>

  <script>
    // Safe localStorage helpers
    const storage = {
      get(key) {
        try { return window.localStorage ? localStorage.getItem(key) : null; } catch { return null; }
      },
      set(key, value) {
        try { if (window.localStorage) localStorage.setItem(key, value); } catch {}
      }
    };

    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    (function applyStoredTheme() {
      const saved = storage.get('salmar-theme');
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const initial = saved || (prefersDark ? 'dark' : 'dark'); // default dark
      document.documentElement.setAttribute('data-theme', initial);
      themeToggle.setAttribute('aria-pressed', String(initial === 'dark'));
      themeToggle.querySelector('span').textContent = initial === 'dark' ? 'Dark Mode' : 'Light Mode';
    })();
    themeToggle.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-theme') || 'dark';
      const next = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      themeToggle.setAttribute('aria-pressed', String(next === 'dark'));
      themeToggle.querySelector('span').textContent = next === 'dark' ? 'Dark Mode' : 'Light Mode';
      storage.set('salmar-theme', next);
    });

    // Procedural noise to overlay (subtle)
    (function makeNoise() {
      const el = document.getElementById('noiseOverlay');
      const dpr = Math.min(window.devicePixelRatio || 1, 2);
      const w = 180, h = 180;
      const canvas = document.createElement('canvas');
      canvas.width = w * dpr; canvas.height = h * dpr;
      const ctx = canvas.getContext('2d');
      ctx.scale(dpr, dpr);
      const imgData = ctx.createImageData(w, h);
      for (let i = 0; i < imgData.data.length; i += 4) {
        const n = Math.floor(Math.random() * 40); // super faint
        imgData.data[i] = n;
        imgData.data[i+1] = n;
        imgData.data[i+2] = n;
        imgData.data[i+3] = 255;
      }
      ctx.putImageData(imgData, 0, 0);
      const url = canvas.toDataURL();
      el.style.backgroundImage = `url(${url})`;
    })();

    // Form elements
    const form = document.getElementById('contactForm');
    const nameEl = document.getElementById('name');
    const emailEl = document.getElementById('email');
    const subjectEl = document.getElementById('subject');
    const categoryEl = document.getElementById('category');
    const messageEl = document.getElementById('message');
    const submitBtn = document.getElementById('submitBtn');
    const resetBtn = document.getElementById('resetBtn');
    const toast = document.getElementById('toast');

    // Validation
    const validators = {
      name: v => v.trim().length >= 2,
      email: v => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.trim()),
      subject: v => v.trim().length > 0,
      message: v => v.trim().length >= 10
    };
    function setValidity(fieldId, isValid) {
      const wrap = document.getElementById('field' + fieldId.charAt(0).toUpperCase() + fieldId.slice(1));
      wrap.classList.toggle('invalid', !isValid);
      const input = document.getElementById(fieldId);
      input.setAttribute('aria-invalid', String(!isValid));
    }
    function validateAll() {
      const okName = validators.name(nameEl.value);
      const okEmail = validators.email(emailEl.value);
      const okSubject = validators.subject(subjectEl.value);
      const okMessage = validators.message(messageEl.value);
      setValidity('name', okName);
      setValidity('email', okEmail);
      setValidity('subject', okSubject);
      setValidity('message', okMessage);
      return okName && okEmail && okSubject && okMessage;
    }
    ['input','blur'].forEach(evt => {
      nameEl.addEventListener(evt, () => setValidity('name', validators.name(nameEl.value)));
      emailEl.addEventListener(evt, () => setValidity('email', validators.email(emailEl.value)));
      subjectEl.addEventListener(evt, () => setValidity('subject', validators.subject(subjectEl.value)));
      messageEl.addEventListener(evt, () => setValidity('message', validators.message(messageEl.value)));
    });

    // Ripple effect
    function rippleAt(e, button) {
      const rect = button.getBoundingClientRect();
      const span = document.createElement('span');
      span.className = 'ripple';
      const x = (e.clientX || (rect.left + rect.width/2)) - rect.left;
      const y = (e.clientY || (rect.top + rect.height/2)) - rect.top;
      span.style.left = x + 'px';
      span.style.top = y + 'px';
      button.appendChild(span);
      setTimeout(() => span.remove(), 700);
    }
    submitBtn.addEventListener('click', (e) => rippleAt(e, submitBtn));
    resetBtn.addEventListener('click', (e) => rippleAt(e, resetBtn));

    // Suggestions logic
    const suggestionsBox = document.getElementById('suggestions');
    const suggestionsLive = document.getElementById('suggestionsLive');
    const QUICK_LINKS = [
      { key: 'status', label: 'Status Page', url: '#', icon: 'pulse' },
      { key: 'docs', label: 'Documentation', url: '#', icon: 'book' },
      { key: 'faq', label: 'FAQ', url: '#', icon: 'help' },
      { key: 'billing', label: 'Billing Help', url: '#', icon: 'coin' },
      { key: 'auth', label: 'Auth & SSO Guide', url: '#', icon: 'lock' },
      { key: 'api', label: 'API Reference', url: '#', icon: 'code' }
    ];
    const CATEGORY_HINTS = {
      General: ['faq', 'docs'],
      Support: ['status', 'docs', 'faq'],
      Business: ['docs', 'api'],
      Media: ['faq'],
      Other: ['faq']
    };
    function iconSvg(name) {
      const map = {
        pulse: '<svg viewBox="0 0 24 24" width="14" height="14" fill="none" aria-hidden="true"><path d="M3 12h4l2-6 4 12 2-6h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
        book: '<svg viewBox="0 0 24 24" width="14" height="14" fill="none" aria-hidden="true"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke="currentColor" stroke-width="2"/><path d="M4 4h14a2 2 0 0 1 2 2v13" stroke="currentColor" stroke-width="2"/></svg>',
        help: '<svg viewBox="0 0 24 24" width="14" height="14" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/><path d="M9.1 9a3 3 0 1 1 5.8 1c0 2-3 2-3 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="12" cy="18" r="1" fill="currentColor"/></svg>',
        coin: '<svg viewBox="0 0 24 24" width="14" height="14" fill="none" aria-hidden="true"><ellipse cx="12" cy="5" rx="7" ry="3" stroke="currentColor" stroke-width="2"/><path d="M5 5v6c0 1.7 3.1 3 7 3s7-1.3 7-3V5" stroke="currentColor" stroke-width="2"/><path d="M5 11v6c0 1.7 3.1 3 7 3s7-1.3 7-3v-6" stroke="currentColor" stroke-width="2"/></svg>',
        lock: '<svg viewBox="0 0 24 24" width="14" height="14" fill="none" aria-hidden="true"><rect x="3" y="11" width="18" height="10" rx="2" stroke="currentColor" stroke-width="2"/><path d="M7 11V7a5 5 0 1 1 10 0v4" stroke="currentColor" stroke-width="2"/></svg>',
        code: '<svg viewBox="0 0 24 24" width="14" height="14" fill="none" aria-hidden="true"><path d="M16 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M8 6L2 12l6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>'
      };
      return map[name] || map.help;
    }
    function renderSuggestions(keys) {
      suggestionsBox.innerHTML = '';
      const unique = [];
      keys.forEach(k => {
        const found = QUICK_LINKS.find(q => q.key === k);
        if (found && !unique.includes(found.key)) unique.push(found.key);
      });
      if (!unique.length) {
        suggestionsLive.textContent = 'No quick suggestions.';
        return;
      }
      unique.forEach(k => {
        const s = QUICK_LINKS.find(q => q.key === k);
        const chip = document.createElement('button');
        chip.type = 'button';
        chip.className = 'chip';
        chip.setAttribute('role', 'option');
        chip.innerHTML = iconSvg(s.icon) + '<span>' + s.label + '</span>';
        chip.addEventListener('click', () => window.open(s.url, '_blank', 'noopener'));
        suggestionsBox.appendChild(chip);
      });
      suggestionsLive.textContent = unique.length + ' suggestion' + (unique.length>1?'s':'') + ' available.';
    }
    function updateSuggestions() {
      const text = subjectEl.value.toLowerCase() + ' ' + messageEl.value.toLowerCase();
      const keywords = new Set(CATEGORY_HINTS[categoryEl.value] || []);
      if (/\bstatus|uptime|outage|latency|incident\b/.test(text)) keywords.add('status');
      if (/\bdoc|guide|how to|getting started|tutorial\b/.test(text)) keywords.add('docs');
      if (/\bfaq|question|common\b/.test(text)) keywords.add('faq');
      if (/\bbill|invoice|price|pricing|payment\b/.test(text)) keywords.add('billing');
      if (/\bauth|sso|login|2fa|oauth\b/.test(text)) keywords.add('auth');
      if (/\bapi|endpoint|token|rate limit\b/.test(text)) keywords.add('api');
      renderSuggestions([...keywords]);
    }
    subjectEl.addEventListener('input', updateSuggestions);
    messageEl.addEventListener('input', updateSuggestions);
    categoryEl.addEventListener('change', updateSuggestions);
    updateSuggestions();

    // Dropzone
    const dropzone = document.getElementById('dropzone');
    const fileInput = document.getElementById('fileInput');
    const fileList = document.getElementById('fileList');
    const MAX_SIZE = 10 * 1024 * 1024; // 10MB

    function showFiles(files) {
      fileList.innerHTML = '';
      Array.from(files).forEach(file => {
        const item = document.createElement('div');
        const ok = file.size <= MAX_SIZE;
        item.textContent = `${file.name} — ${(file.size / 1024 / 1024).toFixed(2)} MB` + (ok ? '' : ' (too large)');
        if (!ok) item.style.color = 'var(--error)';
        fileList.appendChild(item);
      });
    }
    dropzone.addEventListener('click', () => fileInput.click());
    dropzone.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); fileInput.click(); }
    });
    fileInput.addEventListener('change', (e) => showFiles(e.target.files));
    ;['dragenter','dragover'].forEach(ev => dropzone.addEventListener(ev, (e) => {
      e.preventDefault(); e.stopPropagation(); dropzone.classList.add('dragover');
    }));
    ;['dragleave','drop'].forEach(ev => dropzone.addEventListener(ev, (e) => {
      e.preventDefault(); e.stopPropagation(); if (ev === 'drop') { const dt = e.dataTransfer; if (dt?.files?.length) showFiles(dt.files); fileInput.files = dt.files; } dropzone.classList.remove('dragover');
    }));

    // Submit handling (demo)
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      if (!validateAll()) {
        // focus first invalid
        const firstInvalid = form.querySelector('.invalid .input, .invalid .textarea, .invalid .select');
        if (firstInvalid) firstInvalid.focus();
        return;
      }
      // Fake sending delay
      submitBtn.disabled = true;
      submitBtn.style.filter = 'grayscale(20%)';
      setTimeout(() => {
        submitBtn.disabled = false;
        submitBtn.style.filter = '';
        // show toast
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 2600);
        form.reset();
        suggestionsBox.innerHTML = '';
        suggestionsLive.textContent = '';
        fileList.innerHTML = '';
        // reset validators state
        ['name','email','subject','message'].forEach(id => setValidity(id, true));
      }, 900);
    });

    form.addEventListener('reset', () => {
      // slight delay to allow reset event to clear fields
      setTimeout(() => {
        suggestionsBox.innerHTML = '';
        suggestionsLive.textContent = '';
        fileList.innerHTML = '';
        ['name','email','subject','message'].forEach(id => {
          const wrap = document.getElementById('field' + id.charAt(0).toUpperCase() + id.slice(1));
          wrap.classList.remove('invalid');
          document.getElementById(id).removeAttribute('aria-invalid');
        });
      }, 0);
    });

    // Live Chat interactions
    const chatFab = document.getElementById('chatFab');
    const chatPanel = document.getElementById('chatPanel');
    const chatClose = document.getElementById('chatClose');
    const chatBody = document.getElementById('chatBody');
    const chatInput = document.getElementById('chatInput');
    const chatSend = document.getElementById('chatSend');

    function toggleChat(open) {
      const isOpen = chatPanel.classList.contains('open');
      const next = open !== undefined ? open : !isOpen;
      chatPanel.classList.toggle('open', next);
      if (next) setTimeout(() => chatInput.focus(), 120);
    }
    chatFab.addEventListener('click', () => toggleChat(true));
    chatClose.addEventListener('click', () => toggleChat(false));
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && chatPanel.classList.contains('open')) toggleChat(false);
    });

    function appendMsg(text, who = 'bot') {
      const div = document.createElement('div');
      div.className = 'msg ' + who;
      div.textContent = text;
      chatBody.appendChild(div);
      chatBody.scrollTop = chatBody.scrollHeight;
      return div;
    }

    function botReply(userText) {
      const t = userText.toLowerCase();
      const now = new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
      const replies = [
        { test: /\b(status|uptime|outage|incident)\b/, text: 'Our systems are operational. Check the status page for live updates.' },
        { test: /\b(doc|guide|tutorial|api)\b/, text: 'Browse our docs and API reference for detailed guides and examples.' },
        { test: /\b(price|billing|invoice|payment)\b/, text: 'See pricing and billing FAQ to understand plans, limits, and invoices.' },
        { test: /\bhello|hi|hey|greetings\b/, text: 'Hello! How can I help today?' },
        { test: /\bsupport|help|issue|bug\b/, text: 'I can help triage your issue. Can you briefly describe the problem and steps to reproduce?' },
      ];
      const found = replies.find(r => r.test.test(t));
      const base = found ? found.text : 'Got it. I’ll summarize and route this to the right team. Meanwhile, you can check our FAQ or Docs for instant help.';
      // show typing
      const typing = appendMsg('Salmar is typing…', 'bot');
      typing.style.opacity = .6;
      setTimeout(() => {
        typing.remove();
        appendMsg(base + ' (' + now + ')', 'bot');
      }, 700);
    }

    function sendChat() {
      const val = chatInput.value.trim();
      if (!val) return;
      appendMsg(val, 'you');
      chatInput.value = '';
      botReply(val);
    }
    chatSend.addEventListener('click', sendChat);
    chatInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') { e.preventDefault(); sendChat(); } });

    // Clickable contact items accessibility (Enter to activate mailto)
    document.querySelectorAll('.contact-item').forEach((item) => {
      const link = item.querySelector('a');
      item.addEventListener('keydown', (e) => { if (e.key === 'Enter') link.click(); });
    });

    // Improve initial focus outline for keyboard users
    (function focusVisiblePolyfill() {
      function handleFirstTab(e) {
        if (e.key === 'Tab') {
          document.body.classList.add('user-tabbing');
          window.removeEventListener('keydown', handleFirstTab);
        }
      }
      window.addEventListener('keydown', handleFirstTab);
    })();

    // Initialize suggestion seed
    updateSuggestions();
  </script>
</body>
</html>